
<!-- 
     .--.
    |o_o |   "Oh, you’re inspecting me?"
    |:_/ |   That’s cool.

    //   \ \   This handcrafted beast was built
   (|     | )  by Youssef Elshafay just like this storyfolio with a pinch of
  /'\_   _/`\  caffeine and AI whispers.
  \___)=(___/

  💼 lets talks via linkedin https://www.linkedin.com/in/yousefelshafay/
-->
<!-- =============================================================
     Professional Storyfolio v12 • Hero Push (Equal Strips) + Per-Section Strip Variations
     Author: Youssef Elshafay (iterated w/ ChatGPT)

     REQUESTS ADDRESSED (v12)
     --------------------------------------------------
     • KEEP HERO AS YOU LIKED (v10 behaviour): equal-size black/white 45° strips.
     • ON LOAD: avatar, welcome card, and both strips fade/slide in.
     • SCROLL: black strip pushes white completely out; black fills viewport by Hero end.
     • NAV: hidden on load; fades in only after user scrolls past hero threshold.
     • DARK-ONLY: removed theme toggle code & light vars.
     • CONTENT: unchanged from v11 (education, experience, etc.) but readable on dark.
     • SECTION TRANSITIONS: each section gets a **dual-strip variation**: a small white angled slice appears as the section approaches, then a black angled panel expands to dominate background as the section becomes primary. Alternates direction each section for variety.
     • PERFORMANCE: Scroll handlers rAF-batched; IntersectionObserver used to throttle DOM writes.

     TUNING KNOBS (search in JS below):
       const NAV_REVEAL_T = 0.08;     // hero scroll progress before nav shows
       const HERO_PUSH_WHITE = -60;    // % translateX white strip when fully scrolled
       const HERO_PUSH_BLACK = 20;     // % translateX black strip when fully scrolled
       const HERO_SCALE_BLACK = 6;     // scale of black strip at hero end
       const HERO_SCALE_WHITE = 1.8;   // white subtle scale as it leaves
       const SECTION_STRIP_SCALE_MAX = 3; // how strong the black overlay grows per section
       const SECTION_STRIP_TRIGGER = 0.35; // fraction of viewport before section top triggers strip anim
============================================================== -->
<!DOCTYPE html>
<html lang="en" style="--p:0%">

<head>
    <meta charset="utf-8" />
    <title>Youssef Elshafay – Storyfolio</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description"
        content="Interactive storyfolio for Youssef Elshafay – Software Engineer in the Netherlands." />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        :root {
            --fg: #fafafa;
            --bg: #0d0d0d;
            --bg-alt: #151515;
            --accent: #FFC857;
            --accent-2: #ffcc00;
            --hero-h: 100vh;
            --hero-strip-angle: 30deg;
            --trans-fast: .25s;
            --trans-med: .45s;
            --ease: cubic-bezier(.2, .8, .2, 1);
            --pad-x: clamp(1rem, 4vw, 6rem);
            --pad-y-section: 5vh;
            --card-w: 70vw;
            /* --card-max: 550px */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        html {
            scroll-behavior: smooth
        }

        body {
            font: 400 clamp(16px, 2vw, 18px)/1.5 system-ui, -apple-system, sans-serif;
            color: var(--fg);
            background: var(--bg);
            overflow-x: hidden;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased
        }

        img {
            max-width: 100%;
            display: block;
            height: auto
        }

        a {
            color: inherit;
            text-decoration: none
        }

        :focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: .15em
        }

        h1 {
            font-weight: 700;
            font-size: clamp(2.5rem, 6vw, 5.5rem);
            line-height: 1.1;
            /* margin-bottom: 2rem; */
            /* max-width: 15ch */
        }

        h2 {
            font-weight: 700;
            font-size: clamp(1.25rem, 4vw, 2rem);
            margin-bottom: .25rem
        }

        h3 {
            font-weight: 700;
            font-size: clamp(1.125rem, 3vw, 1.5rem);
            margin-bottom: .25rem
        }

        p {
            margin: 0 0 1rem;
            /* max-width: 60ch */
        }

        /* ================= HERO ================= */

        /* ===== HERO WITH 45° STRIPS ===== */
        .hero {
            position: relative;
            height: var(--hero-h);
            width: 100%;
            display: grid;
            place-items: center;
            text-align: center;
            overflow: hidden;
            isolation: isolate;
            background: #dcdcdc
        }

        .hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background-image: radial-gradient(currentColor .5px, transparent .5px);
            background-size: 20px 20px;
            opacity: .08;
            z-index: -1
        }

        .hero__strips {
            position: absolute;
            inset: 0;
            z-index: -2;
            overflow: hidden
        }

        .hero__strip-white,
        .hero__strip-black {
            position: absolute;
            inset: -10vh -10vw;
            transform-origin: center;
            will-change: transform
        }

        .hero__strip-white {
            background: #fff;
            transform: rotate(var(--hero-strip-angle)) scale(1.4)
        }

        .hero__strip-black {
            background: #000;
            transform: rotate(var(--hero-strip-angle)) scale(1.2)
        }

        html.light .hero {
            background: #f3f3f3;
            color: #111
        }

        html.light .hero__strip-black {
            background: #111
        }

        .hero__content {

            top: 10vh;
            position: absolute;
            /* position: relative; */
            z-index: 1;
            /* max-width: min(90%, 600px); */
            padding-top: 1rem;
            /* background: rgba(255, 255, 255, .08); */
            /* backdrop-filter: blur(2px); */
            border-radius: .75rem;
            /* box-shadow: 0 .5rem 2rem rgba(0, 0, 0, .25); */
            transition: opacity var(--trans-med) var(--ease), transform var(--trans-med) var (--ease);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-bottom: 3rem;
            /* gap: 1.5rem; */
        }

        html.light .hero__content {
            background: rgba(255, 255, 255, .9);
            color: #111
        }

        .hero__profile {
            /* width: min(220px, 40vw); */
            margin: 0 auto;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid white
        }

        .hero__tag {
            opacity: .85;
            font-size: clamp(1rem, 2.5vw, 1.75rem);
            margin: 0.5em;
            /* max-width: 70vw; */
            height: max-content;
        }

        .hero__scroll {
            position: relative;
            margin-top: 6vh;
            left: 50%;
            color: #f9f9f94a;
            /* bottom: 4vh; */
            translate: -50% 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: .9rem;
            /* cursor: pointer; */
            opacity: .9;
            transition: opacity .3s
        }

        .hero__scroll:hover {
            opacity: 1
        }

        .hero__scroll-icon {
            width: 26px;
            height: 42px;
            border: 2px solid currentColor;
            border-radius: 13px;
            position: relative;
            opacity: 1;
            /* margin-bottom: .5rem */
        }

        .hero__scroll-icon::after {
            content: "";
            position: absolute;
            top: 6px;
            left: 50%;
            width: 6px;
            height: 6px;
            color: #FFC857;
            border-radius: 50%;
            background: currentColor;
            translate: -50% 0;
            animation: scrollWheel 1.6s infinite
        }

        @keyframes scrollWheel {
            0% {
                opacity: 0;
                transform: translateY(0)
            }

            20% {
                opacity: 1
            }

            80% {
                opacity: 1;
                transform: translateY(16px)
            }

            100% {
                opacity: 0;
                transform: translateY(20px)
            }
        }

        .hero__scroll-arrow {
            font-size: 1.25rem;
            line-height: 1;
            animation: bob 1.6s infinite
        }

        @keyframes bob {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(4px)
            }
        }

        .hero.is-scrolled .hero__scroll {
            opacity: 0;
            pointer-events: none
        }

        .hero.is-collapsing {
            pointer-events: none
        }

        /* ================= CHAPTERS ================= */
        .chapter {
            position: relative;
            min-height: 100vh;
            /* padding-top: 0px; */
            padding-block: var(--pad-y-section);
            padding-inline: var(--pad-x);
            overflow: hidden;
            opacity: 0;
            transform: translateY(5vh) scale(.98);
            transition: opacity var(--trans-med) var (--ease), transform var(--trans-med) var (--ease)
        }

        .chapter.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1)
        }

        .chapter {
            background: var(--bg-alt);
            color: var(--fg)
        }

        .chapter:nth-of-type(even) {
            background: var(--bg)
        }

        /* PER-SECTION STRIP FX */
        .chapter__fx {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: -1
        }

        .chapter__fx-white,
        .chapter__fx-black {
            position: absolute;
            inset: -20vh -20vw;
            transform-origin: center;
            will-change: transform;
            transition: none
        }

        .chapter[data-dir="l"] .chapter__fx-white {
            background: #fff;
            transform: rotate(var(--hero-strip-angle)) translateX(calc(var(--wPush, 0%))) scale(1)
        }

        .chapter[data-dir="l"] .chapter__fx-black {
            background: #000;
            transform: rotate(var(--hero-strip-angle)) translateX(calc(var(--bPush, 0%))) scale(var(--bScale, 1))
        }

        .chapter[data-dir="r"] .chapter__fx-white {
            background: #fff;
            transform: rotate(var(--hero-strip-angle)) translateX(calc(var(--wPush, 0%)*-1)) scale(1)
        }

        .chapter[data-dir="r"] .chapter__fx-black {
            background: #000;
            transform: rotate(var(--hero-strip-angle)) translateX(calc(var(--bPush, 0%)*-1)) scale(var(--bScale, 1))
        }

        .chapter>h1 {
            max-width: 50%;
        }

        /* ================= CARD STRIPS ================= */
        .h-strip {
            margin-top: 5%;
            /* margin-bottom: 5%; */
            position: relative;
            display: flex;
            gap: 2rem;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding-bottom: 1rem;
            scroll-snap-type: x mandatory;
            cursor: grab;
            -webkit-overflow-scrolling: touch
        }

        .h-strip::-webkit-scrollbar {
            display: none
        }

        .h-strip>* {
            scroll-snap-align: start
        }

        /* ================= CARD ================= */
        .card {
            flex: 0 0 var(--card-w);
            max-width: var(--card-max);
            background: #1e1e1e;
            /* Dark background for better contrast */
            border: 2px solid #333;
            /* Subtle border */
            color: var(--fg);
            border-radius: .75rem;
            padding: 1rem;
            /* Increased padding for better spacing */
            transition: transform var(--trans-med) var (--ease), filter var(--trans-med) var (--ease), opacity var(--trans-fast) var (--ease);
            filter: grayscale(1);
            opacity: .85;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            /* Add shadow for depth */
        }


        .card-minimal {
            flex: 0 0 var(--card-w);
            max-width: 70vw;
            background: #0d0d0d;
            /* Dark background for better contrast */
            border: 2px solid #ffffff;
            /* Subtle border */
            color: var(--fg);
            border-radius: .75rem;
            padding: 2rem;
            /* Increased padding for better spacing */
            transition: transform var(--trans-med) var (--ease), filter var(--trans-med) var (--ease), opacity var(--trans-fast) var (--ease);
            /* filter: grayscale(1); */
            /* opacity: .85; */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            /* Add shadow for depth */
        }

        .card.visible {
            filter: none;
            opacity: 1;
        }

        @media(hover:hover) {
            .card:hover {
                border: 2px solid #ffffff73;
            }
        }

        /* Accent border when expanded (flipped) */
        .card.expanded {
            border: 2px solid var(--accent);
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s var(--ease);
            transform-style: preserve-3d;
            border-radius: .75rem;
            min-height: 320px;
        }

        .card.expanded .card-inner {
            transform: rotateY(180deg);
        }

        .card-front,
        .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: .75rem;
            background: none !important;
            /* No background */
            box-shadow: none !important;
            /* No shadow */
            color: var(--fg);
            align-content: space-between;
            justify-content: space-around;
            padding: 1.75rem;
            display: flex;
            flex-direction: column;
            /* justify-content: center; */
            align-items: flex-start;
        }

        .card-front {
            z-index: 2;
        }

        .card-back {
            transform: rotateY(180deg);
            z-index: 3;
            background: #232323;
            color: #fafafa;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.45);
            align-items: flex-start;
        }

        .read-more,
        .flip-back {
            display: inline-flex;
            align-items: center;
            font-weight: 700;
            color: lightgray;
            cursor: pointer;
            user-select: none;
            background: none;
            border: none;
            font-size: 1.1rem;
            margin-top: 1rem;
            transition: color var(--trans-fast);
        }

        .card:hover .read-more,
        .flip-back {
            /* font-size: 1.2rem; */
            color: var(--accent);

        }

        .read-more i {
            margin-left: 0.5em;
            font-size: 1.2em;
        }

        .flip-back {
            margin-top: 1rem;
            font-size: 1.1rem;
        }

        .flip-back i {
            margin-right: 0.5em;
            font-size: 1.2em;
        }

        .card .meta {
            opacity: .8;
            font-size: .95em;
            margin-bottom: .75rem
        }

        .card .impact {
            margin: 0 0 1rem 1.1em;
            padding: 0;
            color: #979797;

            line-height: 1.4
        }

        .card .impact li {
            margin-bottom: .5rem
        }

        .card .more-region {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--trans-med) var (--ease);
            margin-top: .5rem
        }

        .card.expanded .more-region {
            max-height: 100vh
        }

        .read-more {
            display: inline-block;
            font-weight: 700;
            /* color: var(--accent); */
            cursor: pointer;
            user-select: none;
            z-index: 1;
        }

        .read-more::after {
            content: ' ›'
        }

        .card.skill-card {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            filter: none;
            opacity: 1
        }

        .skill-bars {
            display: flex;
            flex-wrap: wrap;
            gap: .5rem
        }

        .skill-bar {
            background: #2b2b2b;
            color: var(--fg);
            border-radius: 9999px;
            padding: .25rem .75rem;
            font-size: .8rem
        }

        .skill-bars-meter {
            display: grid;
            gap: .75rem;
            margin-top: .5rem
        }

        .skill-bars-meter .meter {
            display: flex;
            align-items: center;
            gap: .5rem
        }

        .skill-bars-meter .meter-label {
            width: 8ch;
            text-align: right;
            font-size: .85em;
            opacity: .8
        }

        .skill-bars-meter .meter-track {
            flex: 1;
            height: 6px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
            position: relative
        }

        .skill-bars-meter .meter-fill {
            position: absolute;
            inset: 0;
            width: var(--pct, 0%);
            background: var(--accent)
        }

        .quote {
            font-style: italic;
            line-height: 1.6;
            position: relative;
            padding-left: 1.2ch
        }

        .quote::before {
            content: '“';
            font-size: 2rem;
            position: absolute;
            left: 0;
            top: -.5rem;
            color: var(--accent)
        }

        .contact-icons {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            font-size: 2rem;
            top: 15vh;
            color: whitesmoke;
            position: relative;
            justify-content: space-around
        }

        .contact-icons a {
            color: rgb(155, 155, 155);
            transform-origin: center;
            transition: transform var(--trans-fast) var(--ease)
        }

        .contact-icons a:hover {
            transform: scale(1.1);
            color: white;
        }

        .h-arrows {
            position: absolute;
            /* bottom: 12vh; */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            pointer-events: none
        }

        .h-arrows button {
            pointer-events: auto;
            border: none;
            background: #0008;
            color: #fafafa;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background var(--trans-fast)
        }

        .h-arrows button:hover {
            background: #fff3;
            color: #000
        }

        @media(pointer:coarse) {
            .h-arrows {
                display: none
            }
        }

        /* ================= BOTTOM NAV ================= */
        #bottomNav {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: center;
            gap: clamp(.5rem, 3vw, 3rem);
            padding: .75rem 1rem;
            background: rgba(0, 0, 0, .5);
            backdrop-filter: blur(6px);
            z-index: 100;
            color: var(--fg);
            font-size: clamp(.75rem, 1.8vw, 1rem);
            line-height: 1;
            opacity: 0;
            pointer-events: none;
            transform: translateY(1.5rem)
        }

        #bottomNav a {
            position: relative;
            padding: .25rem .5rem;
            text-transform: uppercase;
            letter-spacing: .04em;
            opacity: .55;
            transition: opacity var(--trans-fast), color var(--trans-fast)
        }

        #bottomNav a.active {
            opacity: 1;
            color: var(--accent)
        }

        #bottomNav a.active::after {
            content: "";
            position: absolute;
            left: 50%;
            bottom: -.25rem;
            width: 2.5ch;
            height: 2px;
            background: currentColor;
            translate: -50% 0;
            border-radius: 1px
        }

        .experience-logo {
            position: absolute;
            /* top: 5%; */
            right: 5%;
            opacity: 0.5;
            /* width: 2.5rem;
            height: 2.5rem; */
            /* border-radius: 50%;
            overflow: hidden;
            display: inline-block;
            vertical-align: middle; */

            position: fixed;
            bottom: 5%;
            right: 1%;
            /* opacity: 0.5; */
            /* max-height: 50vw; */
            max-width: 30vw;
        }

        @media(max-width:600px) {
            #bottomNav {
                font-size: .75rem;
                gap: 1rem
            }
        }

        #bottomNav.show {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0);
            transition: opacity var(--trans-med) var (--ease), transform var(--trans-med) var (--ease)
        }

        .hero__intro h1 {
            font-size: clamp(3.5rem, 7vw, 6rem);
            /* Larger and responsive */
            font-weight: 900;
            /* Extra bold for emphasis */
            transform: rotate(-2deg);
            /* Slight angle for dynamic effect */
            color: var(--fg);
            /* Keep the default foreground color */
            margin-bottom: 2rem;
            /* Increased spacing */
        }

        .hero__intro h1::first-letter {
            color: #eca603;
            /* Accent color for the first letter */
            opacity: 0.9;
            /* Slight opacity for a subtle effect */
            font-size: 1.1em;
            /* Slightly larger for emphasis */
        }

        .hero__intro p {
            font-size: clamp(1.25rem, 2.5vw, 1.75rem);
            /* Slightly larger for readability */
            color: #888;
            /* Gray color for main text */
            line-height: 1.8;
            /* Improved line spacing */
            text-align: center;
            /* Center alignment for better focus */
            /* max-width: 60ch; */
            /* Limit width for readability */
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .hero__intro p strong {
            color: #f5f5f5;
            /* Near-white shade for emphasized keywords */
        }

        /* ================= SECTION INTRO ================= */
        .section-intro {
            font-size: 1.1rem;
            color: #ddd;
            margin-bottom: 2rem;
            max-width: 800px;
            line-height: 1.6;
            margin-left: 25vw;
            /* margin-right: auto; */
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        /* ================= TOOLTIP ================= */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.9rem;
            white-space: nowrap;
            z-index: 10;
            transform: translateY(-100%);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .skill-bar {
            position: relative;
            overflow: hidden;
        }

        .skill-bar:hover .tooltip {
            opacity: 1;
            transform: translateY(-110%);
        }

        /* ================= SCROLL TOGGLE ================= */
        #scrollToggle {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            z-index: 1000;
        }

        /* ================= HORIZONTAL STRIP GRADIENT ================= */
        .h-strip {
            position: relative;
            display: flex;
            gap: 2rem;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding-bottom: 1rem;
            scroll-snap-type: x mandatory;
            cursor: grab;
            -webkit-overflow-scrolling: touch
        }

        .h-strip::-webkit-scrollbar {
            display: none
        }

        .h-strip>* {
            scroll-snap-align: start
        }

        .h-strip .gradient {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 2rem;
            background: linear-gradient(to left, rgba(0, 0, 0, 0.5), transparent);
            pointer-events: none;
        }

        /* ================= READ MORE TOGGLER ================= */
        .card .more-region {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--trans-med) var (--ease);
            margin-top: .5rem
        }

        .card.expanded .more-region {
            max-height: 100vh
        }

        /* Section header first letter accent and tilt */
        .chapter>h1::first-letter {
            color: #eca603;
            /* match hero Welcome accent */
            opacity: 0.9;
            display: inline-block;
            transform: rotate(-2deg);
            font-size: 1.1em;
            margin-right: 0.05em;
            font-weight: 900;
        }

        .chapter>h1 {
            transform: rotate(-6deg);

        }


        /* Carousel indicator styles */
        .carousel-indicator {
            position: absolute;
            left: 50%;
            bottom: calc(12vh + 2.8rem);
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 2;
            gap: 0.5rem;
        }

        .carousel-indicator-dashes {
            display: flex;
            gap: 0.7rem;
        }

        .carousel-indicator-dashes .dash {
            width: 32px;
            height: 4px;
            border-radius: 2px;
            background: #444;
            opacity: 0.6;
            transition: background 0.3s, opacity 0.3s;
        }

        .carousel-indicator-dashes .dash.active {
            background: #fff;
            opacity: 1;
        }

        .carousel-indicator-count {
            font-size: 0.95rem;
            color: #bbb;
            letter-spacing: 0.08em;
            margin-bottom: 2px;
            font-family: inherit;
        }

        /* Style for card position indicator */
        .card-position {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-size: 0.75rem;
            /* Smaller text */
            color: rgba(200, 200, 200, 0.7);
            /* Grayish and subtle */
            background: rgba(0, 0, 0, 0.4);
            /* Faded background */
            padding: 0.2rem 0.4rem;
            /* Adjusted padding */
            border-radius: 0.2rem;
            /* Slightly rounded corners */
            opacity: 0.6;
            /* Initial subtle opacity */
            pointer-events: none;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .card:hover .card-position {
            opacity: 1;
            /* Fully visible on hover */
            transform: scale(1.05);
            /* Slight zoom effect */
        }

        /* ================= SCROLL REVEAL ================= */
        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .reveal.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ================= TESTIMONIALS ================= */
        .quote {
            font-style: italic;
            line-height: 1.6;
            position: relative;
            padding-left: 1.2ch;
            margin: 1.5rem 0;
        }

        .quote::before {
            content: '“';
            font-size: 2rem;
            position: absolute;
            left: 0;
            top: -.5rem;
            color: var(--accent);
            line-height: 1;
        }

        .quote::after {
            content: '”';
            font-size: 2rem;
            position: absolute;
            right: 0;
            bottom: -.5rem;
            color: var(--accent);
            line-height: 1;
        }

        .highlight {
            color: var(--accent);
            font-weight: 700;
        }

        /* ================= COMMON ================= */
        h1,
        h2,
        h3 {
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, rgb(110, 110, 110), transparent);
            bottom: -0.2em;
            left: 0;
            z-index: 1;
        }

        h2 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            margin-bottom: 0.5rem;
        }

        h3 {
            font-size: clamp(1.25rem, 4vw, 2rem);
            margin-bottom: 0.5rem;
        }

        /* ================= BUTTONS ================= */
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 700;
            color: #fff;
            background: var(--accent);
            border: none;
            border-radius: 9999px;
            text-align: center;
            cursor: pointer;
            transition: background .3s, transform .3s;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform .6s ease-out;
            z-index: 0;
        }

        .btn:hover::after {
            transform: translate(-50%, -50%) scale(1);
        }

        .btn:hover {
            background: var(--accent-2);
            transform: translateY(-2px);
        }

        /* ================= FORMS ================= */
        input,
        textarea,
        select {
            background: #1e1e1e;
            color: var(--fg);
            border: 2px solid #333;
            border-radius: 4px;
            padding: 0.75rem;
            font-size: 1rem;
            width: 100%;
            max-width: 400px;
            margin: 0.5rem 0;
            transition: border-color .3s, box-shadow .3s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 200, 87, 0.3);
        }

        /* ================= LINKS ================= */
        a {
            /* color: var(--accent); */
            position: relative;
            text-decoration: none;
        }

        a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, var(--accent), transparent);
            bottom: -2px;
            left: 0;
            z-index: 1;
            transform: scaleX(0);
            transition: transform .3s;
        }

        a:hover::after {
            transform: scaleX(1);
        }

        /* ================= MEDIA QUERIES ================= */
        @media (max-width: 768px) {
            h1 {
                font-size: clamp(2rem, 8vw, 4rem);
            }

            h2 {
                font-size: clamp(1.25rem, 6vw, 2rem);
            }

            h3 {
                font-size: clamp(1rem, 5vw, 1.5rem);
            }

            .hero__intro h1 {
                font-size: clamp(3rem, 8vw, 5rem);
            }

            .hero__intro p {
                font-size: clamp(1rem, 4vw, 1.5rem);
            }

            .btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            /* Adjust card layout for smaller screens */
            .h-strip {
                flex-direction: column;
                gap: 1rem;
            }

            .card {
                flex: 1 1 100%;
                max-width: 100%;
            }

            .card-minimal {
                max-width: 100%;
            }

            .card-minimal.skill-card {
                flex: 1 1 100%;
                max-width: 100%;
                margin-bottom: 1rem;
            }

            .contact-icons {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }

            .contact-icons a {
                font-size: 1.5rem;
            }

            .section-intro {
                font-size: 1rem;
                margin-left: 5vw;
                margin-right: 5vw;
            }

            #bottomNav {
                flex-wrap: wrap;
                justify-content: space-around;
                padding: 1rem;
                gap: 1rem;
                font-size: 0.9rem;
            }

            #bottomNav a {
                flex: 1 1 auto;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: clamp(1.5rem, 6vw, 3rem);
            }

            h2 {
                font-size: clamp(1.125rem, 5vw, 1.75rem);
            }

            h3 {
                font-size: clamp(1rem, 4vw, 1.25rem);
            }

            .hero__intro h1 {
                font-size: clamp(2.5rem, 6vw, 4rem);
            }

            .hero__intro p {
                font-size: clamp(0.875rem, 3.5vw, 1.25rem);
            }

            .btn {
                padding: 0.375rem 0.75rem;
                font-size: 0.875rem;
            }

            .card-minimal.skill-card {
                flex: 1 1 100%;
                max-width: 100%;
                margin-bottom: 1rem;
            }

            .contact-icons {
                flex-direction: column;
                gap: 1.75rem;
                align-items: center;
            }

            .contact-icons a {
                font-size: 1.75rem;
            }

            .section-intro {
                font-size: 0.9rem;
                margin-left: 5vw;
                margin-right: 5vw;
            }

            #bottomNav {
                flex-wrap: wrap;
                justify-content: space-around;
                padding: 0.75rem;
                gap: 0.75rem;
                font-size: 0.8rem;
            }

            #bottomNav a {
                flex: 1 1 auto;
                text-align: center;
            }
        }

        .testimonial-carousel {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .testimonial-group {
            padding: 1rem;
            /* background: var(--bg-alt); */
            border-radius: 1rem;
            /* box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); */
        }

        .testimonial-group .card {
            opacity: 0.4;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out, border-color 0.6s ease-out;
        }

        .testimonial-group .card:hover {
            opacity: 1;
            border: 2px solid var(--accent);
            transform: scale(1.02);
        }

        .h-strip {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 1rem;
        }

        .card-minimal {
            flex: 0 0 var(--card-w);
            max-width: 70vw;
            background: #0d0d0d;
            border: 2px solid #ffffff;
            color: var(--fg);
            border-radius: .75rem;
            padding: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            scroll-snap-align: start;
            flex-shrink: 0;
        }

        .quote {
            font-style: italic;
            line-height: 1.6;
            position: relative;
            padding-left: 1.2ch;
            margin: 1.5rem 0;
        }

        .quote::before {
            content: '“';
            font-size: 2rem;
            position: absolute;
            left: 0;
            top: -.5rem;
            color: var(--accent);
            line-height: 1;
        }

        .meta {
            font-size: 0.9rem;
            color: #ccc;
        }

        .testimonial-group h2 {
            font-size: 1.5rem;
            color: rgba(255, 200, 87, 0.8);
            /* Slight opacity for better focus */
            margin-bottom: 1rem;
            text-align: center;
        }

        .summary strong {
            color: #f2d8a1;
            font-weight: 500;
        }
    </style>
</head>

<body>
    <nav id="bottomNav" aria-label="Primary" class="is-hidden">
        <a href="#hero" data-nav="hero" class="active">Home</a>
        <a href="#about" data-nav="about">About</a>
        <a href="#experience" data-nav="experience">Experience</a>
        <a href="#projects" data-nav="projects">Projects</a>
        <a href="#skills" data-nav="skills">Skills</a>
        <a href="#testimonials" data-nav="testimonials">Testimonials</a>
        <a href="#contact" data-nav="contact">Contact</a>
    </nav>

    <!-- HERO -->
    <header id="hero" class="hero" data-hero>
        <div class="hero__strips" aria-hidden="true">
            <div class="hero__strip-white" id="heroStripWhite"></div>
            <div class="hero__strip-black" id="heroStripBlack"></div>
        </div>
        <div class="hero__content" data-hero-content>
            <!-- Adjusted structure for clean alignment -->
            <figure class="hero__profile">
                <img src="/Assets/Images/PersonalProfile.jpeg" alt="Portrait of Youssef Elshafay" />
            </figure>
            <div class="hero__intro">
                <h1 style=" margin-bottom:1rem">Welcome</h1>
                <p class="hero__tag">
                    Hi, I’m Youssef! I love building software that solves real-world problems, whether it’s crafting
                    scalable systems, developing machine learning models, or helping others to grow and succeed.
                </p>
                <!-- My name is <strong>Youssef Elshafay</strong>. I am a <strong>Software Engineer</strong>
                    located in the <strong>Netherlands</strong> with a passion for <strong>NeuroScience &amp; AI</strong>. -->
            </div>
            <div class="hero__scroll" id="heroScroll" role="button" tabindex="0" aria-label="Scroll to Education">
                <span class="hero__scroll-icon"></span>
                <!-- <span class="hero__scroll-arrow">▼</span> -->
            </div>
        </div>


    </header>

    <!-- CONTENT ROOT -->
    <div id="root">
        <!-- ========= About ========= -->
        <section class="chapter" style="height:40vh" id="about" data-chapter data-dir="l">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>About Me</h1>
            <article class="summary card" style="margin-top: 10vh;">
                <p class="hero__tag">

                    With <strong>6+ years of experience</strong>, I build <strong>scalable backend systems</strong> and
                    deliver
                    <strong>production-ready ML services</strong> — from <strong>OCR pipelines</strong> to
                    <strong>containerized APIs</strong>. I care about <strong>mentorship</strong>,
                    turning ideas
                    into <strong>impactful software</strong> — whether it’s bootstrapping an MVP or scaling real-world
                    infrastructure.
                </p>

                <p class="hero__tag">
                    <em>Below, you’ll find a glimpse of the <strong>projects I’ve worked on</strong>, the
                        <strong>skills I’ve honed</strong>, and a few <strong>kind words</strong> from people I’ve had
                        the chance to
                        work with.</em>

                </p>
            </article>
        </section>

        <!-- ========= Experience ========= -->
        <section class="chapter" id="experience" data-chapter data-dir="r">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>Experience</h1>
            <p class="section-intro">From internships to mission-critical systems, here's what shaped me Professional career.</p>
            <div class="h-strip">
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">1/4</span>
                        <div class="card-front">
                            <h2>
                                <figure class="experience-logo">
                                    <img src="/Assets/Images/sitelucent-logo-footer.png" alt="Sitelucent Logo" />
                                </figure>
                                Sitelucent <span class="meta">– NL | Apr 2021 – Present</span>
                            </h2>
                            <p style="color: #8f8f8f; font-size: larger;">Senior Backend Engineer</p>

                            <ul class="impact">
                                <li>Helped move our entire stack to <strong>containerization</strong> </li>
                                <li>Building api features for our analytics  <strong>dashboard</strong> </li>
                                <li>Mentored engineers across the team</li>
                                <!-- <li>Mentoring engineers.</li> -->
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                            <div style="margin-top:0.5rem; font-size:0.95em; color:#888;">
                                <i class="fa fa-mouse-pointer"></i> <span>Double-click card for details</span>
                            </div>
                        </div>
                        <div class="card-back">
                            <p>Software Engineer <a href="https://www.sitelucent.com" target="_blank"
                                    rel="noopener">@Sitelucent</a>. Leading backend infrastructure modernization through
                                containerization and microservices architecture. Architected and implemented critical
                                data processing services, as well as mentoring new colleaguas on our tech stack.
                            </p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">2/4</span>
                        <div class="card-front">
                            <h2>
                                <figure class="experience-logo">
                                    <img src="/Assets/Images/peercode_logo.svg" alt="Sitelucent Logo" />
                                </figure>
                                PeerCode <span class="meta">– NL | Aug 2020 – Feb 2021</span>
                            </h2>
                            <p style="color: #8f8f8f; font-size: larger;">Full Stack Engineer</p>

                            <ul class="impact">
                                <li>Built features for <strong>Atris</strong> telemonitoring system</li>
                                <li>Improved stability of real-time health data flows</li>
                                <li>Full-stack delivery across backend (Laravel) and frontend (Vue)</li>

                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Full stack Software Engineer <a href="https://www.peercode.nl/en/welcome/"
                                    target="_blank" rel="noopener">@PeerCode</a>, working mainly on a patient
                                telemonitoring system called
                                Atris.
                            </p>
                            <p>For More Info please visit <a href="https://atris.life" target="_blank"
                                    rel="noopener">Atris</a>.</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">3/4</span>
                        <div class="card-front">
                            <h2>
                                <figure class="experience-logo">
                                    <img src="/Assets/Images/Certwell2.png" alt="Sitelucent Logo" />
                                </figure>
                                Certwell <span class="meta">– NL | Apr 2019 – Apr 2020</span>
                            </h2>
                            <p style="color: #8f8f8f; font-size: larger;">Full Stack Engineer</p>

                            <ul class="impact">
                                <li>POC for custom IDE Migration to <strong>.NetCore tech stack</strong></li>
                                <li>Built new features inside a <strong>custom internal IDE</strong></li>
                                <!-- <li>Collaborated in an agile team to modernize Certwell's certification tools</li> -->
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Full stack Software Engineer <a href="https://www.certwell.com/" target="_blank"
                                    rel="noopener">@Certwell</a>, building new features for Certwell digital products
                                within
                                an agile team.</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">4/4</span>
                        <div class="card-front">
                            <h2>
                                <figure class="experience-logo">
                                    <img src="/Assets/Images/Accenture-logo.png" alt="Sitelucent Logo" />
                                </figure>
                                Accenture <span class="meta">– NL | Sep 2018 – Jan 2019</span>
                            </h2>
                            <p style="color: #8f8f8f; font-size: larger;">Software Engineer</p>

                            <ul class="impact">
                                <li>poc for Image anomaly detection for rust detection system</li>
                                <li>gave presentation on anomaly detection for accenture <strong>management team</strong> </li>
                                <li>Graduation internship</li>
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Graduation internship <a href="https://www.accenture.com/nl-en" target="_blank"
                                    rel="noopener">@Accenture</a>: Proof‑of‑concept anomaly detection system using
                                modern
                                deep learning.</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
            </div>
            <div class="carousel-indicator"></div>
            <div class="h-arrows"><button class="prev" aria-label="Previous">❮</button><button class="next"
                    aria-label="Next">❯</button></div>
        </section>

        <!-- ========= Projects ========= -->
        <section class="chapter" id="projects" data-chapter data-dir="l">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>Projects</h1>
            <p class="section-intro">A showcase of what I've built and contributed to.</p>
            <div class="h-strip">
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">1/6</span>
                        <div class="card-front">
                             <figure class="experience-logo">
                                    <img src="/Assets/Images/sitelucent-logo-footer.png" alt="Sitelucent Logo" />
                                </figure>
                            <h2>Similarity Service <span class="meta">Present</span></h2>
                            <ul class="impact">
                                <li>Image comparison</li>
                                <li>OCR extraction</li>
                                <li>AWS auto-scaling</li>
                            </ul>
                            <div class="project-icons">
                                <i class="fa-brands fa-python"></i>
                                <i class="fa-brands fa-aws"></i>
                                <i class="fa-brands fa-docker"></i>
                            </div>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Developed an ML‑powered image comparison service at <a href="https://www.sitelucent.com"
                                    target="_blank" rel="noopener">Sitelucent</a> using deep learning models, OCR, AWS
                                (PyTorch, Keras) to detect image similarity. Integrated OCR technologies (PyTesseract,
                                EasyOCR) for text extraction and containerized the solution on AWS for effortless
                                scaling.</p>
                            <p class="meta">@Python @PyTorch @Docker @AWS @Keras @CNN</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">2/6</span>
                        <div class="card-front">
                             <figure class="experience-logo">
                                    <img src="/Assets/Images/sitelucent-logo-footer.png" alt="Sitelucent Logo" />
                                </figure>
                            <h2>Scraping Service <span class="meta">Present</span></h2>
                            <ul class="impact">
                                <li>SPA scraping (Puppeteer).</li>
                                <li>Docker.</li>
                                <li>Nodejs</li>
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Built a scalable web scraping service for SPA websites at Sitelucent using Puppeteer and
                                Docker. Integrated AWS auto-scaling to handle varying workloads and devised resilient
                                error handling to ensure reliable data collection.</p>
                            <p class="meta">@Puppeteer @Docker @AWS @Node.js</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">3/6</span>
                        <div class="card-front">
                             <figure class="experience-logo">
                                    <img src="/Assets/Images/sitelucent-logo-footer.png" alt="Sitelucent Logo" />
                                </figure>
                            <h2>E‑commerce Analytics <span class="meta">Apr 2021 – Present</span></h2>
                            <ul class="impact">
                                <li>Backend + infra lead</li>
                                <li>REST APIs</li>
                                <li>Microservices</li>
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Oversaw backend development and infrastructure for an analytics dashboard at Sitelucent.
                                Implemented RESTful APIs for data processing, managed AWS services (monitoring,
                                auto-scaling), and led the containerization of legacy systems to create a robust,
                                scalable e-commerce analytics platform</p>
                            <p class="meta">@AWS @Docker @PHP @MySQL</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">4/6</span>
                        <div class="card-front">
                             <figure class="experience-logo">
                                    <img src="/Assets/Images/peercode_logo.svg" alt="Sitelucent Logo" />
                                </figure>
                            <h2>Atris <span class="meta">Aug 2020 – Feb 2021</span></h2>
                            <ul class="impact">
                                <li>Patient telemonitoring</li>
                                <li>Laravel</li>
                                <li>Vue.js</li>
                                <li>Iot timeSeries-processing</li>
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Enhanced a patient telemonitoring system called Atris by fixing bugs and implementing new
                                features using Laravel (PHP), MySQL, and Vue. These improvements stabilized the platform
                                and expanded its functionality for healthcare providers.</p>
                            <p class="meta">@Laravel @MySQL @Vue</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">5/6</span>
                        <div class="card-front">
                              <figure class="experience-logo">
                                    <img src="/Assets/Images/Certwell2.png" alt="Sitelucent Logo" />
                                </figure>
                            <h2>System Migration <span class="meta">Dec 2019 – Mar 2020</span></h2>
                            <ul class="impact">
                                <li>.NET Core.</li>
                                <li>Azure.</li>
                                <li>C#</li>
                            </ul>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Compared an in-house development IDE at Certwell (Polar Studio) with Microsoft's .NET
                                Core framework, validating that .NET Core met enterprise-grade security, stability, and
                                feature requirements. This assessment guided future technology adoption and modernized
                                the development stack.</p>
                            <p class="meta">@.NETCore @C# @MVC</p>
                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
                <article class="card" tabindex="0" title="Double-click to flip for more info">
                    <div class="card-inner">
                        <span class="card-position">6/6</span>
                        <div class="card-front">
                             <figure class="experience-logo">
                                    <img src="/Assets/Images/Accenture-logo.png" alt="Sitelucent Logo" />
                                </figure>
                            <h2>Anomaly Detection <span class="meta">Sep 2018 – Jan 2019</span></h2>
                            <ul class="impact">
                                <li>DL anomaly proof of concept .</li>
                                <li>Flask + TensorFlow.</li>
                            </ul>
                            <div class="more-region">
                                <p>Deep‑learning anomaly detection PoC @Accenture.</p>
                                <p class="meta">@TensorFlow @Python @UI5</p>
                            </div>
                            <button class="read-more" aria-label="Show more"><span>More info</span></button>
                        </div>
                        <div class="card-back">
                            <p>Graduation internship <a href="https://www.accenture.com/nl-en" target="_blank"
                                    rel="noopener">@Accenture</a>: During my graduation internship at Accenture (SAP
                                department), I developed a proof-of-concept to detect anomalies in images for a Dutch
                                infrastructure client. The solution included a Python (Flask) API using TensorFlow/Keras
                                to process images via HTTP requests, storing results in a database, and a SAP UI5
                                front-end to visualize anomalies. This demonstrated the feasibility of automated image
                                analysis for the client.</p>
                            <p class="meta">@TensorFlow @Python @UI5</p>

                            <button class="flip-back" aria-label="Flip back"><i class="fa fa-arrow-left"></i>
                                <span>Back</span></button>
                        </div>
                    </div>
                </article>
            </div>
            <div class="carousel-indicator"></div>
            <div class="h-arrows"><button class="prev" aria-label="Previous">❮</button><button class="next"
                    aria-label="Next">❯</button></div>
        </section>

        <!-- ========= Skills ========= -->
        <section class="chapter" id="skills" data-chapter data-dir="r">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>Skills</h1>
            <p class="section-intro">The tools and expertise that drive my work.</p>
            <div class="h-strip">
                <article class="card-minimal skill-card">
                    <h2>Full Stack Development</h2>
                    <p class="desc">End‑to‑end SaaS application development with scalable architecture & clean code.</p>
                    <div class="skill-bars"><span class="skill-bar">Laravel</span><span
                            class="skill-bar">.NET</span><span class="skill-bar">Vue.js</span><span
                            class="skill-bar">MySQL</span><span class="skill-bar">UI/UX</span></div>
                </article>
                <article class="card-minimal skill-card">
                    <h2>Cloud &amp; DevOps</h2>
                    <p class="desc">Cloud infrastructure & containerization + continuous automation.</p>
                    <div class="skill-bars"><span class="skill-bar">Docker</span><span
                            class="skill-bar">Azure</span><span class="skill-bar">AWS</span><span
                            class="skill-bar">Microservices</span><span class="skill-bar">CI/CD</span></div>
                </article>
                <article class="card-minimal skill-card">
                    <h2>Automation &amp; ML</h2>
                    <p class="desc">Automation tooling & machine learning implementations.</p>
                    <div class="skill-bars"><span class="skill-bar">Node.js</span><span
                            class="skill-bar">Puppeteer</span><span class="skill-bar">Python</span><span
                            class="skill-bar">ML Libraries</span><span class="skill-bar">OCR</span></div>
                </article>
                <article class="card-minimal skill-card">
                    <h2>Analysis &amp; Soft Skills</h2>
                    <p class="desc">R&D mindset, teamwork, communication, analysis.</p>
                    <div class="skill-bars"><span class="skill-bar">R&D</span><span class="skill-bar">Team
                            Work</span><span class="skill-bar">Communication</span><span
                            class="skill-bar">Analysis</span></div>
                </article>
                <!-- <article class="card-minimal skill-card">
                    <h2>Language Skills</h2>
                    <div class="skill-bars-meter">
                        <div class="meter" style="--pct:100%"><span class="meter-label">Arabic</span><span
                                class="meter-track"><span class="meter-fill"></span></span></div>
                        <div class="meter" style="--pct:100%"><span class="meter-label">English</span><span
                                class="meter-track"><span class="meter-fill"></span></span></div>
                        <div class="meter" style="--pct:80%"><span class="meter-label">Dutch</span><span
                                class="meter-track"><span class="meter-fill"></span></span></div>
                        <div class="meter" style="--pct:40%"><span class="meter-label">French</span><span
                                class="meter-track"><span class="meter-fill"></span></span></div>
                        <div class="meter" style="--pct:20%"><span class="meter-label">Spanish</span><span
                                class="meter-track"><span class="meter-fill"></span></span></div>
                    </div>
                </article> -->
            </div>
            <div class="h-arrows"><button class="prev" aria-label="Previous">❮</button><button class="next"
                    aria-label="Next">❯</button></div>
        </section>

        <!-- ========= Testimonials ========= -->
        <section class="chapter" id="testimonials" data-chapter data-dir="r">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>Testimonials</h1>
            <p class="section-intro">
                I've been lucky to work with people who care about doing meaningful work and doing it well. Here’s what they’ve said about working with me.
            </p>

            <div class="testimonial-carousel">
                <div class="testimonial-group">
                    <h2>💡 Innovation & Technical Excellence</h2>
                    <div>
                        <article class="card">
                            <h2>Ivo meesters, Sitelucent</h2>
                            <p class="quote">
                               I had the pleasure of working with Yousef for four years, during which time he demonstrated a remarkable passion for innovation and new technologies, particularly in the fields of machine learning and artificial intelligence, bringing innovations and new features to our customers. I highly recommend Yousef for any role that requires innovative thinking, technical expertise, and a collaborative spirit.
                            </p>
                            <p class="meta">
                                <a href="https://www.sitelucent.com" target="_blank" rel="noopener">Sitelucent</a> |
                                CEO
                            </p>
                        </article>
                    </div>
                </div>

                <div class="testimonial-group">
                    <h2>🤝 Mentorship & Collaboration</h2>
                    <div >
                        <article class="card">
                            <h2>Ivo meesters, Sitelucent</h2>
                            <p class="quote">
                                Yousef is dedicated to continuous learning and is eager to share his knowledge with others. He has been instrumental in coaching and training other software developers, fostering a collaborative and growth-oriented environment. His commitment to, and passion for, helping others expand their skills is a testament to his mentorship qualities. 
                            </p>
                            <p class="meta" >
                                <a href="https://www.sitelucent.com" target="_blank" rel="noopener">Sitelucent</a> |
                                CEO
                            </p>
                        </article>
                        <article class="card" style="margin-top: 1rem;">
                            <h2>Govert de Vries, PeerCode</h2>
                            <p class="quote">
                                Youssef is a great communicator and team builder always willing to help colleagues. Youssef has a great work attitude and wants to get things done. 
                            </p>
                            <p class="meta">
                                <a href="https://www.peercode.nl/en/welcome/" target="_blank"
                                    rel="noopener">PeerCode</a> | CEO
                            </p>
                        </article>
                    </div>
                </div>

                <div class="testimonial-group">
                    <h2>🚀 Entrepreneurial Spirit</h2>
                    <div >
                        <article class="card">
                            <h2>Jacco Kooie, Certwell</h2>
                            <p class="quote">
                               Youssef is always looking for opportunities to help the company improve its processes.Out of all our employees ,shows youssef the most entrepreneurial spirit.
                            </p>
                            <p class="meta">
                                <a href="https://www.certwell.com/" target="_blank" rel="noopener">Certwell</a> | CTO
                            </p>
                        </article>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========= Contact ========= -->
        <section class="chapter" id="contact" data-chapter data-dir="r">
            <div class="chapter__fx" aria-hidden="true">
                <div class="chapter__fx-white"></div>
                <div class="chapter__fx-black"></div>
            </div>
            <h1>Contact</h1>
            <p class="section-intro">I'm open to remote-first or hybrid roles where I can apply my experience in backend
                engineering, ML, and ML Ops. If you're building intelligent systems or scaling innovation fast — I’d
                love to help.</p>
            <div class="contact-icons">
                <a href="mailto:yousefelshafay@gmail.com" target="_blank" aria-label="Email"><i
                        class="fa fa-4x fa-google"></i></a>
                <a href="https://api.whatsapp.com/send?phone=0031649373646" target="_blank" aria-label="WhatsApp"><i
                        class="fa fa-4x fa-whatsapp"></i></a>
                <a href="https://www.linkedin.com/in/yousefelshafay/" target="_blank" aria-label="LinkedIn"><i
                        class="fa fa-4x fa-linkedin"></i></a>
                <!-- <a href="/Assets/CV/YoussefElshafayCV2025.pdf" target="_blank" aria-label="Download CV"><i
                        class="fa fa-4x fa-download"></i></a> -->
            </div>
        </section>
    </div>

    <script>
        /* =============================================================
           CONFIG
        ============================================================== */
        const ORDER = ['hero', 'education', 'experience', 'projects', 'skills', 'testimonials', 'contact'];
        const NAV_REVEAL_T = 0.08;              // show nav after 8% hero scroll
        const HERO_PUSH_WHITE = -60;            // % translateX white strip full scroll
        const HERO_PUSH_BLACK = 20;             // % translateX black strip full scroll
        const HERO_SCALE_BLACK = 6;             // scale black flood
        const HERO_SCALE_WHITE = 1.8;           // subtle scale white
        const SECTION_STRIP_SCALE_MAX = 3;      // section black flood scale
        const SECTION_STRIP_TRIGGER = 0.35;     // start anim when section top < 35% vh from bottom

        /* =============================================================
           NAV
        ============================================================== */
        const bottomNav = document.getElementById('bottomNav');
        const navLinks = [...bottomNav.querySelectorAll('a')];
        function setActive(id) { navLinks.forEach(a => a.classList.toggle('active', a.dataset.nav === id)); }
        navLinks.forEach(a => { a.addEventListener('click', () => setActive(a.dataset.nav)); });
        bottomNav.addEventListener('keydown', e => { const idx = navLinks.findIndex(a => a.classList.contains('active')); if (idx < 0) return; let ni = null; if (e.key === 'ArrowRight') ni = Math.min(idx + 1, navLinks.length - 1); if (e.key === 'ArrowLeft') ni = Math.max(idx - 1, 0); if (ni !== null) { e.preventDefault(); navLinks[ni].click(); navLinks[ni].focus(); } });

        /* =============================================================
           HERO STRIP PUSH + NAV REVEAL
        ============================================================== */
        const hero = document.querySelector('[data-hero]');
        const heroScroll = document.getElementById('heroScroll');
        const heroStripBlack = document.getElementById('heroStripBlack');
        const heroStripWhite = document.getElementById('heroStripWhite');
        const heroContent = document.querySelector('[data-hero-content]');
        window.addEventListener('load', () => { hero.classList.add('is-mounted'); });
        function goEducation() { document.getElementById('education').scrollIntoView({ behavior: 'smooth' }); }
        // heroScroll.addEventListener('click', goEducation); heroScroll.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); goEducation(); } });
        let ticking = false; function heroAnim() {
            if (ticking) return; ticking = true; requestAnimationFrame(() => {
                ticking = false; const rect = hero.getBoundingClientRect(); const vh = window.innerHeight; const sc = Math.min(Math.max(-rect.top, 0), vh); const t = sc / vh; // 0->1 while hero leaving
                // show nav after threshold
                if (t > NAV_REVEAL_T) { bottomNav.classList.add('show'); } else { bottomNav.classList.remove('show'); }
                // content fade + lift
                heroContent.style.opacity = String(Math.max(0, 1 - t * 1.2));
                heroContent.style.transform = `translateY(${t * -10}vh) scale(${1 - t * 0.05})`;
                // black pushes white (equal start); black wins
                const pushB = HERO_PUSH_BLACK * t;   // +% right
                const pushW = HERO_PUSH_WHITE * t;   // -% left
                const sclB = 1.1 + (HERO_SCALE_BLACK - 1.3) * t;
                const sclW = 1.2 + (HERO_SCALE_WHITE - 1.3) * t;
                heroStripBlack.style.transform = `rotate(var(--hero-strip-angle)) translateX(${pushB}%) scale(${sclB})`;
                heroStripWhite.style.transform = `rotate(var(--hero-strip-angle)) translateX(${pushW}%) scale(${sclW})`;
                // hide scroll cue once moving
                if (t > .05) hero.classList.add('is-scrolled'); else hero.classList.remove('is-scrolled');
            });
        }
        addEventListener('scroll', heroAnim, { passive: true }); addEventListener('resize', heroAnim); heroAnim();

        /* =============================================================
           CHAPTER REVEAL OBSERVER (incl hero for nav)
        ============================================================== */
        const chapters = [...document.querySelectorAll('[data-chapter]')];
        const chapObs = new IntersectionObserver(entries => { entries.forEach(en => { if (en.isIntersecting) { en.target.classList.add('is-visible'); setActive(en.target.id); } }); }, { threshold: .25, rootMargin: '-10% 0px -10% 0px' });
        chapters.forEach(ch => chapObs.observe(ch));
        const heroObs = new IntersectionObserver(ents => { ents.forEach(en => { if (en.isIntersecting) setActive('hero'); }); }, { threshold: .6 });
        heroObs.observe(hero);

        /* =============================================================
           SECTION STRIP VARIATIONS
           Each section has .chapter__fx-white + .chapter__fx-black.
           We animate custom props --wPush, --bPush, --bScale based on scroll progress.
        ============================================================== */
        const sectionsFX = [...document.querySelectorAll('.chapter')].map(sec => ({
            el: sec,
            w: sec.querySelector('.chapter__fx-white'),
            b: sec.querySelector('.chapter__fx-black'),
            dir: sec.dataset.dir || 'l'
        }));
       
        function updateSectionFX() {
            sectionsFX.forEach(o => {
                const r = o.el.getBoundingClientRect(); const vh = window.innerHeight; const start = vh * (1 - SECTION_STRIP_TRIGGER); // start anim before enters
                let t = 0; if (r.top < start) { const dist = start - r.top; const span = vh + o.el.offsetHeight; t = Math.min(Math.max(dist / span, 0), 1); } // 0->1 through section
                // white shows briefly then pushed out early (~0.4)
                const wT = Math.min(t / 0.4, 1);   // clamp
                const bT = t;                   // black grows entire duration
                const wPush = -50 * wT;           // -50% left (if l) or right (if r) handled in CSS
                const bPush = 20 * bT;            // push slight
                const bScale = 1 + (SECTION_STRIP_SCALE_MAX - 1) * bT;
                o.el.style.setProperty('--wPush', wPush + '%');
                o.el.style.setProperty('--bPush', bPush + '%');
                o.el.style.setProperty('--bScale', bScale);
            });
        }
        addEventListener('scroll', () => { requestAnimationFrame(updateSectionFX); }, { passive: true }); addEventListener('resize', updateSectionFX); updateSectionFX();

        /* =============================================================
           CARD STRIPS PREV/NEXT + DRAG + WHEEL MAP
        ============================================================== */
        function initStrip(chapter) { const strip = chapter.querySelector('.h-strip'); if (!strip) return; const prev = chapter.querySelector('.h-arrows .prev'); const next = chapter.querySelector('.h-arrows .next'); const update = () => { if (!prev || !next) return; prev.style.opacity = strip.scrollLeft > 0 ? '1' : '.3'; next.style.opacity = strip.scrollLeft + strip.clientWidth < strip.scrollWidth ? '1' : '.3'; }; prev && prev.addEventListener('click', () => { strip.scrollBy({ left: -strip.clientWidth * 0.9, behavior: 'smooth' }); }); next && next.addEventListener('click', () => { strip.scrollBy({ left: strip.clientWidth * 0.9, behavior: 'smooth' }); }); strip.addEventListener('scroll', update, { passive: true }); update(); }
        chapters.forEach(initStrip);

        document.querySelectorAll('.h-strip').forEach(el => { el.addEventListener('wheel', e => { if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) { el.scrollBy({ left: e.deltaY, behavior: 'auto' }); e.preventDefault(); } }, { passive: false }); });

        document.querySelectorAll('.h-strip').forEach(strip => { let d = false, sx = 0, sl = 0; const down = e => { d = true; sx = (e.touches ? e.touches[0].pageX : e.pageX); sl = strip.scrollLeft; strip.style.cursor = 'grabbing'; }; const move = e => { if (!d) return; const x = (e.touches ? e.touches[0].pageX : e.pageX); strip.scrollLeft = sl - (x - sx); }; const up = () => { d = false; strip.style.cursor = 'grab'; }; strip.addEventListener('mousedown', down); window.addEventListener('mousemove', move); window.addEventListener('mouseup', up); strip.addEventListener('touchstart', down, { passive: true }); window.addEventListener('touchmove', move, { passive: false }); window.addEventListener('touchend', up); });

        /* =============================================================
           CARD VISIBILITY / MORE TOGGLER
        ============================================================== */
        const cards = [...document.querySelectorAll('.card')];
        const cardObs = new IntersectionObserver(ents => { ents.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); }); }, { threshold: .35 });
        cards.forEach(c => cardObs.observe(c));

        document.addEventListener('click', e => {
            const moreBtn = e.target.closest('.read-more');
            const backBtn = e.target.closest('.flip-back');
            if (moreBtn) {
                const card = moreBtn.closest('.card');
                card.classList.add('expanded');

                setTimeout(() => {
                    const btn = card.querySelector('.flip-back');
                    if (btn) btn.focus();
                }, 400);
            }
            if (backBtn) {
                const card = backBtn.closest('.card');
                card.classList.remove('expanded');
                setTimeout(() => {
                    const rmBtn = card.querySelector('.read-more');
                    if (rmBtn) rmBtn.focus();
                }, 400);
            }
        });
        // Add double-click to flip functionality
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('dblclick', () => {
                card.classList.toggle('expanded');
                setTimeout(() => {
                    if (card.classList.contains('expanded')) {
                        const btn = card.querySelector('.flip-back');
                        if (btn) btn.focus();
                    } else {
                        const rmBtn = card.querySelector('.read-more');
                        if (rmBtn) rmBtn.focus();
                    }
                }, 400);
            });
        });

        /* =============================================================
           KONAMI FUN (kept)
        ============================================================== */
        const seq = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65]; let pos = 0; addEventListener('keydown', e => { pos = e.keyCode === seq[pos] ? pos + 1 : 0; if (pos === seq.length) { document.body.animate([{ filter: 'invert(1) contrast(3)' }, { filter: 'none' }], { duration: 500 }); pos = 0; } });

        /* =============================================================
           HERO ON LOAD ANIMATION
        ============================================================== */
        const heroOnLoadAnimation = () => {
            // Initial styles for stripes, content, welcome part, and scroll icon
            heroStripBlack.style.transform = 'rotate(45deg) scale(0)';
            heroStripWhite.style.transform = 'rotate(45deg) scale(0)';
            heroContent.style.opacity = '0';
            heroContent.style.transform = 'translateX(-20px) scale(0.9)';
            const heroIntro = document.querySelector('.hero__intro');
            heroIntro.style.opacity = '0';
            heroIntro.style.transform = 'translateX(-40px)';
            const heroScroll = document.getElementById('heroScroll');
            heroScroll.style.opacity = '0';
            heroScroll.style.transform = 'translateX(40px)';

            // Animate stripes first
            setTimeout(() => {
                heroStripBlack.style.transition = 'transform 2s ease-out';
                heroStripWhite.style.transition = 'transform 2s ease-out';

                heroStripBlack.style.transform = 'rotate(45deg) scale(1.2)';
                heroStripWhite.style.transform = 'rotate(45deg) scale(1.4)';
            }, 600); // Delay before starting stripes animation

            // Animate content after stripes finish
            setTimeout(() => {
                heroContent.style.transition = 'opacity 1s ease-out, transform 1s ease-out';
                heroContent.style.opacity = '1';
                heroContent.style.transform = 'translateY(0) scale(1)';
            }, 2000); // Delay to match stripe animation duration

            // Animate welcome part and scroll icon after content appears
            setTimeout(() => {
                heroIntro.style.transition = 'opacity 1s ease-out, transform 1s ease-out';
                heroIntro.style.opacity = '1';
                heroIntro.style.transform = 'translateX(0)';

            }, 2500); // Delay to ensure smooth flow after content animation
        }

        window.addEventListener('load', heroOnLoadAnimation);

        const heroIntroElement = document.querySelector('.hero__tag');

        // Hide the text and scroll icon initially
        heroIntroElement.style.opacity = '0';
        heroScroll.style.opacity = '0';

        function typeText(element, delay = 60) {
            const text = element.innerHTML; // Preserve HTML structure for <strong> tags
            const [introText, remainingText] = text.split('!'); // Split into intro and remaining text
            element.innerHTML = ''; // Clear content for typing effect
            element.style.opacity = '1'; // Make visible during typing

            // Add typing indicator
            const cursor = document.createElement('span');
            cursor.textContent = '|';
            cursor.style.display = 'inline-block';

            cursor.style.animation = 'blink 0.5s step-end infinite';
            element.appendChild(cursor);

            let index = 0;
            const interval = setInterval(() => {
                cursor.remove(); // Remove cursor temporarily
                element.innerHTML += introText[index];
                element.appendChild(cursor); // Re-add cursor after character
                index++;
                if (index === introText.length) {
                    clearInterval(interval);
                    cursor.remove(); // Remove cursor after typing finishes
                    element.innerHTML += '!'; // Add the exclamation mark

                    // Create a container for the remaining text
                    const remainingBlock = document.createElement('div');

                    remainingBlock.classList.add('hero__tag');
                    remainingBlock.style.opacity = '0';
                    remainingBlock.style.maxWidth = '70vw';
                    remainingBlock.style.color = 'rgb(83 83 83)';
                    remainingBlock.style.transition = 'opacity 1s ease-out';
                    remainingBlock.innerHTML = remainingText.trim(); // Add remaining text
                    element.parentElement.appendChild(remainingBlock); // Append below the intro text

                    setTimeout(() => {
                        remainingBlock.style.opacity = '1'; // Fade in remaining text

                        // Fade in the scroll icon below the text
                        const scrollBlock = document.createElement('div');
                        // scrollBlock.className = 'hero__scroll';
                        remainingBlock.classList.add('hero__tag');

                        scrollBlock.style.opacity = '0';
                        scrollBlock.style.transition = 'opacity 3s ease-out';
                        scrollBlock.innerHTML = `
                            <div class="hero__scroll">
                            <span class="hero__scroll-icon"></span>
                        </div>`;
                        element.parentElement.appendChild(scrollBlock);

                        setTimeout(() => {
                            scrollBlock.style.opacity = '1'; // Fade in scroll block
                        }, 300);
                    }, 500); // Delay before fading in remaining text
                }
            }, delay);
        }

        window.addEventListener('load', () => {
            const heroIntroElement = document.querySelector('.hero__tag');
            heroIntroElement.style.opacity = '0'; // Hide the text initially
            setTimeout(() => {
                typeText(heroIntroElement);
            }, 2000); // Wait 2 seconds before typing starts
        });

        // CSS for blinking cursor
        const style = document.createElement('style');
        style.textContent = `
@keyframes blink {
    50% { opacity: 0; }
}
`;
        document.head.appendChild(style);


        const sections = [...document.querySelectorAll('.chapter')];

        // Ensure sections are initially hidden
        sections.forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px) scale(0.85)';
        });

        function handleSectionTransitions() {
            const viewportHeight = window.innerHeight;

            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const progress = Math.min(Math.max((viewportHeight - rect.top) / viewportHeight, 0), 1); // Progress from 0 to 1

                // Gradually increase opacity and scale as the section enters the viewport
                section.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                section.style.opacity = `${progress}`;
                section.style.transform = `translateY(${(1 - progress) * 40}px)   `;

                // Fade in the next section with the opposite effect
                if (index >= 0 && sections[index + 1]) {
                    const nextSection = sections[index + 1];
                    const nextProgress = Math.min(Math.max((viewportHeight - nextSection.getBoundingClientRect().top) / viewportHeight, 0), 1);

                    nextSection.style.transition = 'opacity 0.4s ease-out, transform 0.8s ease-out';
                    nextSection.style.opacity = `${nextProgress}`;
                    nextSection.style.transform = `translateY(${(1 - nextProgress) * 10}px) scale(${0.85 + nextProgress * 0.15}) `;
                }


                // // Fade out the previous section as the current section fades in
                if (index > 0 && sections[index - 1]) {
                    const prevSection = sections[index - 1];
                    const prevProgress = Math.min(Math.max((viewportHeight - prevSection.getBoundingClientRect().top) / viewportHeight, 0), 1);
                    prevSection.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                    prevSection.style.opacity = `${prevProgress}`;
                    prevSection.style.transform = `translateY(${(1 - prevProgress) * 10}px)  `;

                    if (prevProgress > 0.8) {
                        prevSection.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                        prevSection.style.opacity = `${prevProgress}`;


                    }
                }

            });
        }

        // Trigger animation when scrolling
        window.addEventListener('scroll', handleSectionTransitions, { passive: true });
        window.addEventListener('resize', handleSectionTransitions);
        handleSectionTransitions();


        // Attach carousel indicator logic to each h-strip


        // Dynamically add card positions based on the number of cards in each carousel
        document.querySelectorAll('.chapter .h-strip').forEach(strip => {
            const cards = strip.querySelectorAll('.card');
            cards.forEach((card, index) => {
                const position = document.createElement('span');
                position.className = 'card-position';
                position.textContent = `${index + 1}/${cards.length}`;
                card.querySelector('.card-inner').prepend(position);
            });
        });

        // Handle vertical and horizontal scrolling for carousels
        document.querySelectorAll('.h-strip').forEach(strip => {
            let isDragging = false, startX = 0, scrollLeft = 0;

            // Allow vertical scrolling unless explicitly dragging horizontally
            strip.addEventListener('wheel', e => {
                if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
                    window.scrollBy({ top: e.deltaY, behavior: 'auto' });
                    e.preventDefault();
                } else {
                    strip.scrollBy({ left: e.deltaX, behavior: 'auto' });
                    e.preventDefault();
                }
            }, { passive: false });

            // Enable horizontal dragging only when the user interacts with the carousel
            const startDrag = e => {
                isDragging = true;
                startX = e.touches ? e.touches[0].pageX : e.pageX;
                scrollLeft = strip.scrollLeft;
                strip.style.cursor = 'grabbing';
            };

            const dragMove = e => {
                if (!isDragging) return;
                const x = e.touches ? e.touches[0].pageX : e.pageX;
                strip.scrollLeft = scrollLeft - (x - startX);
            };

            const endDrag = () => {
                isDragging = false;
                strip.style.cursor = 'grab';
            };

            strip.addEventListener('mousedown', startDrag);
            window.addEventListener('mousemove', dragMove);
            window.addEventListener('mouseup', endDrag);
            strip.addEventListener('touchstart', startDrag, { passive: true });
            window.addEventListener('touchmove', dragMove, { passive: false });
            window.addEventListener('touchend', endDrag);
        });
    </script>
</body>

</html>